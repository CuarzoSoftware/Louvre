# Chapter 2: Installation

The latest Louvre version, precompiled for **Debian** or **Red Hat** can be found in the [Downloads](md_md__downloads.html) page.\n

> If you choose to go this way, you can skip the manual compilation and proceed directly to the [Examples](#Examples) section.

## Manual compilation

Louvre depends on the following libraries:

* **Wayland Server** >= 1.16
* **EGL** >= 1.5.0
* **GLES** 2.0 >= 13.0.6
* **DRM** >= 2.4.85
* **GBM** >= 22.2.0
* **Evdev** >= 1.5.6
* **Libinput** >= 1.6.3
* **XCursor** >= 1.1.15
* **XKB Common** >= 0.7.1
* **X11 Fixes** >= 6.0.0
* **XRandr** >= 1.5.1
* **Pixman** >= 0.40.0
* **Libseat** >= 0.6.4

And can easily be built with [Meson](https://mesonbuild.com/).

## Debian (Ubuntu, Mint, etc)

If your distribution is based on Debian, all dependencies can be installed with the following commands:

```
$ sudo apt update
$ sudo apt upgrade
$ sudo apt install build-essential libegl-dev mesa-common-dev libgles2-mesa-dev libdrm-dev libgbm-dev libevdev-dev libinput-dev libxcursor-dev libxkbcommon-dev libxfixes-dev libxrandr-dev libpixman-1-dev libwayland-dev libseat-dev
```

And Meson with:

```
$ sudo apt install meson
```

It is also recommended to install **weston-terminal**, which is compatible with Wayland and will be used throughout the tutorial.

```
$ sudo apt install weston
```

## Red Hat (Fedora, CentOS, etc)

If your distribution is based on Red Hat, all dependencies can be installed with the following commands:

```
$ sudo dnf update
$ sudo dnf install @development-tools make automake gcc gcc-c++ kernel-devel libwayland-server wayland-devel libinput-devel libevdev-devel libudev-devel mesa-libEGL-devel libxkbcommon-devel libXcursor-devel pixman-devel libdrm-devel libgbm-devel libXrandr-devel libseat-devel
```

And Meson with:

```
$ sudo dnf install meson
```

It is also recommended to install **weston-terminal**, which is compatible with Wayland and will be used throughout the tutorial.

```
$ sudo dnf install weston
```

# Building Louvre

Run the following commands to compile and install Louvre:

```
$ git clone https://github.com/CuarzoSoftware/Louvre.git
$ cd Louvre/src
$ meson setup build -Dbuildtype=release
$ cd build
$ meson compile
$ sudo meson install
```

This will install the library in:

```
/usr/lib
```

The headers in:

```
/usr/include/Louvre
```

The backends in:

```
/usr/etc/Louvre/backends
```

And examples in:

```
/usr/bin
```

# Examples {#Examples}

Let's run one of the example compositors included in the library to verify that everything is working correctly.\n
Switch to a free TTY session by pressing ```CTRL+ALT+(F1,F2,...,FN)``` or by running the ```$ sudo chvt N``` command, where N is the number of the TTY.

> ⚠️ Before running, keep in mind that you can close the compositor by pressing **Ctrl+Shift+Esc**. Additionally **weston-terminal** can be launched by pressing **F1** or **fn+F1** depending on your keyboard configuration.

If your current desktop environment is based on X11, simply run ```$ louvre-default```.\n
If your current desktop environment is based on Wayland, prepend the following environment variables to avoid conflicts:\n

```$ WAYLAND_DISPLAY=wayland-1 LOUVRE_WAYLAND_DISPLAY=wayland-1 louvre-default```

<center>
    <img src="https://lh3.googleusercontent.com/j0zgugoPB7QUbdXPd7K5pSBFtVDqWAziwhA2sXHI7gFWmSFYdclRkNr3Mg3tF12xjPVrjScS0qleWyL6AN7p0hNgN6079wRSdvTZSs_JnIBQ6NHN_UI770p9zHbi49_V3zY8fFFGZQ=w2400"/>
</center>

# Múltiples GPUs

Currently, Louvre is capable to render using a single GPU. If your machine has multiple GPUs, you can force the compositor to use a specific one with the **LOUVRE_DRM_DEVICE** environment variable.\n

For example with ```$ LOUVRE_DRM_DEVICE=/dev/dri/card0 louvre-default```.

> If the compositor does not get displayed, try replacing "card0" with another number such as "card1", "card2", etc.

# Debugging

The **LOUVRE_DEBUG** environment variable can be set to an integer in the range [0,4] to display debugging information from the library with different levels of verbosity.\n
Check Louvre::LLog documentation for more information.

